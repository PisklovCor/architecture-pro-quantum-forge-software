## Задание 6. Автоматическое ежедневное обновление базы знаний

Вам нужно полностью автоматизировать процесс обновления базы знаний: скачивание новых документов, преобразование их в
чанки, обновление векторного индекса и логирование. Если реально использовать RAG в продукте, то вы неизбежно
столкнётесь с тем, что живые данные быстро устаревают.

## Что нужно сделать

1. Выберите источник данных
Это может быть локальная папка (docs/), S3-бакет, публичный Git-репозиторий, RSS-фид, Google Drive, то есть любой
реальный или симулированный источник, откуда появляются новые документы. Укажите, как будет происходить «подхват» новых
файлов.

2. Напишите скрипт обновления индекса
Скрипт должен:
- Сканировать источник и находить новые или изменённые документы.
- Разбивать документы на чанки (как в Задании 2).
- Генерировать эмбеддинги.
- Обновлять векторную БД (добавлять новые чанки, опционально — удалять устаревшие).
- Логировать процесс.

Можно использовать Python, bash, make, invoke, airflow — на выбор. Главное — **автоматизм.**

3. Настройте периодический запуск
#### Варианты:
- cron-задача (на Linux/macOS),
- системный планировщик (на Windows),
- встроенный планировщик в Docker или Kubernetes.

#### Укажите:
- как запускать задачу,
- как часто она будет работать (например, каждый день в 6:00),
- что будет происходить при ошибке (лог, повтор и т. д.).
- **Реализуйте логирование**
#### Выведите в лог:
- время запуска и завершения,
- количество новых чанков,
- размер итогового индекса,
- ошибки (если были).

Формат может быть простой **log.txt**, stdout или JSON-файл.

4. Нарисуйте архитектурную диаграмму
Используя PlantUML, покажите:
- источник данных → скрипт → чанки → эмбеддинги → индекс,
- где хранятся логи,
- где и как запускается задача.

## Результат

По итогу задания у вас должен получиться:
- Скрипт u**pdate_index.py** или **update.sh** (с пояснением или README).
- Настроенный cron (или другой планировщик).
- Рабочее обновление индекса (можно протестировать добавлением нового документа).
- Диаграмма, которая будет объяснять архитектуру и поток данных.
- Пример лога: **index updated at 2025-07-17, 3 files added, 0 errors.**